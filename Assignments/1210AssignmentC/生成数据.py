import random
T = random.randint(4,6)
print(T)

for t in range(T):
    R = random.randint(2,100)
    C= random.randint(2,100)
    K = random.randint(2,20)
    print(f'{R} {C} {K}')
    l =['.','#','.','#']
    M = [[0]*C for _ in range(R)]
    for i in range(R):
        for j in range(C):
            M[i][j]= random.choice(l)
    M[0][0]='S'

    M[-1][-1]='E'

    for i in range(R):
        print(''.join(M[i]))
'''
 
6
19 41 13
S.#.#.#.######..#...###..##.##....###.###
#.#...#.....#.#.#..##.###.#...#......#.##
##..#..##..#..#.#######..#.##...#.##....#
.#......#####..##.#....#.#.#..###...#.#..
####.#...##.#.#..####.##..#.#.#.....#..##
#.#...#....##...#.#..####..#.#.#..#.#...#
#..##.#.#.#......#..#.#...##.#....#####..
.#.###....##.###..#.......##..#...####.#.
.#.#...######.#...#........###..###.##...
...##..###...#..#.######..#........##..##
###..#..###....#.##..####.##....##..#....
#....#.#.###.##.#.###.####..###....#..#..
#.#.##.#..#..####....#.####.##.#.#..#.#..
.#.#####.##...##.##..#.#...##..##.#.#####
..##..#.###..#.###.####....#.###.#.#....#
#######.##..#.###...##.#.##########.#.###
.....###.#####...#..###.#.#.#...####.###.
...#.###....##.#.#.###.###..#.#..#.....##
###..#.....#...##....#..#...#.#.#....#..E
35 63 11
S#...#....##...#.#..#..##.##..#..#####..##...####..#.######.##.
..#..#.##........#..#.###.....##.....#.#...#...#...###.#.##...#
#####.#.#....##.##.####.#..###.#..#.####.#.##.....##.#....##.#.
#...#.#..#.#####.#...##.#.####.#...#..#.######...#..##.##..##..
...#...#...##...#.##.#..#.#.#####.#.#..###.#.##..###.##.....#.#
#..#.##..######.##.#..#.#.##.###.####.##.##.#####.#.#.##...##..
.##..#.##.##.....##.#...#..########.#.##..#..##.#..#.#######..#
##.#..###..#..#######.###..###..######..#.##.#.#..##.........#.
.#..##...#.#.##.#.#.#...##.###.#.#.###.#....#.....#..##.##.....
...#..#.#.#.#......#.#.###.########.....#.#..##.....#..####.###
.#.#.#.....#...##.##....###.#...###.#.......#.###...#.##..#...#
#######.#.#..#.##..######.#...###.####.#..##.#####.#..####.#...
...#.....##...#..###..###..#.#..##......#.##.#..##.#.###.##.###
##.###.####...##..####.#.###.#..#..###.###.##.###...#.#.##..#.#
..##..##.#..#.######..##.##.#.#.###....#..##.#.#.######......#.
#.#...#.######.....#####..##.####.##.#.##.#..#.##..##.####.####
....#.#..###.##.###.#.####.##########.#.#.#...##...###.#.#..##.
.#.##..#.#..##.###.#.....#.#.####....#....#.##.###.####.#.#####
.#.###.###....#.#.#.#...#..##....#...#..####..###.#.#.#.##.#.#.
..#.#.#.##.###..###...#....#.##..#.#...#..#.......#....#.#.##.#
#..##..##.#.####..###..#.#.....#.#........###..#.##..##....#...
..#..##.######..#..#..#.#.#####.##...####.#....#..###.##.#.####
......###.#..##..##......###...##..##.#..#.#.##....#.###...###.
##.#.....#..######.#...#.###...##.##...##.#.......#...#....##.#
####.#......##.##.#...#...##.#..#.#..#.....#####..#.##...#.###.
##...###.#..####..#.#...####.#.##.#.##.#.####.#.##...#.....###.
#...###..#..#..##.....#.##...#.##.##.##.#####.....#..#......###
.##..#...##.##...####.#####.#####.#.######..#.##.......##.....#
##.#.##....##.##....#..##..#...####...#.######.###..###..##.#.#
#.#..#.#..#....#.#...#....#..#.###..###.#.#.#.#.####......###..
#......#....##..#.#.#.#..#..#.#.#..#..####..###..####.#..#..#.#
##...#....#####...###..####.####..##.###.#######..#.#...##.###.
.####.#..#..#...#.##.###.##.###....#####.#.#.#.#.#.#....#.###.#
#.###...#.##..###..#.#.#....#....##..#....#...####.#....#......
#.....##.##......#.##..#####.#####.#..#....##..#.#.##.#....#..E
37 51 4
S#..#.##.##.####.#..#.#..##..#.......#..#######.#..
###.#.#..##.#.#.##..#.#.##.....####.#...##.#.#.####
##..#.#..#.#.#...##...#######.#####.#.#.##....#.#.#
.....###..##.##..#..#.###..#.#..#.####..#..#....##.
#.#####.##..##..#...#.#..#.#.###.##...##.#########.
..#..#.......#.....######.#.##.##........#.##.##...
..#..###..####...#####.....####...#....##..##..#.#.
.##...#...##.#######..#.###.###..####...##....#.##.
#..#.###.#...######....#####.##...#.##...####.#.#..
##..#.#..##.##....#..######....#....#.#.##..##.#..#
.##..###.#......##.....#.#...#.##...#....###.#...#.
.#.######.#...##..##..##.#....#.##.....#....#.#..#.
.###..####..###..###..###..####.###.#..#.#...##.##.
#.#.####.###.##..#.####....##...###....######.#.#.#
#...##.#.#..#.###...###.#.#.#....##.#.#.##.##.#.##.
#.##..###.######..##...#.#.###..#..#.#.##..#.#..#..
..###.#....#.####.#.....#.#....##..##.#.#..#.##.#.#
.#.....#......#.#..##......#####.#..###..#.#####..#
#..#.#.##.#.#.###.#...#...###.#..#..#.####.##....#.
.###..####.#..#.#######.##.###..###.####.#.#.#...#.
#####..#.#..#..#..#.#.######.###..######..###...#..
#.#...##.##.####.##..#.#.##.......#####..##....##.#
..#.##.##.#.####....#..##.#...###..#.#...#..##..##.
.....##..#####....#.#..#...####.##.#.#...#.##.##.##
......#.#.#####......#..#####.##.#.#..#####.#......
#......#.......##..####...####.#......#.###..#..#.#
##.##.#.#.##..#.#..##.##..#...#..##..###.#.##.#.#..
####...#...###.#.##...#..##.##.########..###......#
#.#.##.#.#.#####...###.####.##.#.###..#.###.###.#.#
#.##..###.###.#.#.####.######.##..#####...###......
...###...##.#.#.#.##..##.###..####.#.#.##.#.#....##
.##...#####.#.####.#####.#.#.#....##...#.#.##.....#
...#.###.##...#.#.#.#..#.#.##.######..####..##..##.
.###..#.###...##....##....###.....#.#.###.##..###.#
####.#..#.###.#.###.##.#..#...#..#..######.#.#.#..#
#..#.###.#....###.#######.#...###.###..##.#...#.##.
#..#.###....#.##..#...##.....#..#####.#.#..###....E
71 47 3
S#..##.#.#.#...##.....##.##.#.#...#.#..##.##.#.
..#.##....#..#####..#...#........#..##.#..##...
..###..#..#.#...#.##########.....#.##...#..##..
.#####.#.#..#.##...##..#.##..#..##..#.#######.#
.##...###...###..#..#.#...#..##.##.#.#.#.##.#.#
#..#.#....#.....##.#..##.#####.#........#....#.
.####...####...#...#...##.##...#.#..##..#.#.#..
#..#...#####.##.#.####.....#.#.###.#....##..##.
##..#..##....##..#.#####.##..#.#.#####.#..#....
####...#...##......#.#....#..#.#.###.####.#.###
.#.#...###..#.#.#...##.####......#...#.####.###
#.####......##...##..#.#.#...#.#..#..#.#.#.#...
#..#.#.#...#..#.....#.##..##....#....####.#.#.#
##..#......###..###..##..#####...#......#.#.###
###...#...#.##...##.......##....#..##........#.
.#####....####.#.#..#..#.#.##.#..#.##...###....
..##.....#..#...#.#.#....###...###.#.##..##....
#.....####..##...#.####.....########.###.##..##
#.#..###.####.#.#.#.#....#.#...######....##.#.#
..##..#...##.#..##....##.#...#.##..##.####..#.#
#.#......#.#.##.#...##..####...#.#......#.#.#.#
##....#.#####..###..#....#.###.##...########..#
#..####..#.#.#..#...#..#######.....#....#.#.##.
#.##......#..##...#..####.....##...#....#..#...
..#####.##.......##..#.###.#.###.#.#..########.
#..#...###.##.....##.####...#.#####..###..#.##.
..#.#....#..#.##..#..#.####.#.####.#....##...##
......#.#.##.#.#..#..#..####...#.#.#.#..###..#.
.#..#####.####..#.#..##.#.#.##.##.#.######.#...
#.###....#.##..#.##..##...##..##.#...#.##.###.#
.####.##.#######..#..####.###..#.##..###..#...#
#..#...#####..##........#..#.########...#.##.##
####.##.##.#.###..#.#..#.....#..#...##.##...#..
.#....#..#...##.###.#.###.#...##.####.##..#...#
##.###.#.#.#...####..#....#....##....#....#####
#.#..#..#.#....#.#.#..####.#.##.........#.####.
##..#.##..###.##...###...####..###.####.##...##
#...#.##.#.#..##.#.#..#.#...#.#######....###.#.
#.#....###.###.##..###..##.#...###....##...#.##
..#....#..###..#...#####.####..##..####..##..#.
.###...#.####......#.#####.###.######..####..#.
.#.#.#...##...##..###.#..#..###....#...#...##.#
.......##..##.##...##....#...#..####......#..#.
#.....##.#......####.##.#.#.#.#.##.#.#..#####..
##..##.###.#.##.###.#.#.##.....#..##.##..#..#..
#.#..###..#.######..#.###..#..##.#.####.#####.#
##.##.#.##..#.#####..#.##.###.#..#..#...###.#..
#...#.#.###...#...####..##.#..####.###.##...###
.#..#.#......###..#.##....#.###.###..###..####.
.#....##.#.#.#.#.#..##...##..##..#..#.##.##.#.#
#..##..####.#..#.#..#######.#####..##..#...#.##
..#.#..#.#.###.###.##..##.#.#.####...#.....####
..#####....###..#.#.####....#..#.#..#.#..####.#
#......##.##.#....#.##..###.#.##.####.....#...#
.###.#.#..##.#..##.#..##...###...###...###.#..#
#..##.#..##..##.###..####.####..###..#..##....#
.##.#.#.#.##.#.###.#....##.##...##.#..#.##..##.
#..#.#.#.#..####..#.#.###.##..##.###.##..###.#.
#.##.##...#..###.#.#..#..#.#.#.#.#.##....#.....
#.#..######.######.#.##.....#######..#.###.....
##...#.#######.##.##...#.##.#.##.##..#..###....
##.###.#..#.###.####..###.##..#....#.##.##.##..
#####..####..##.###.###..###..#.#..##..#......#
##..#.#.##.#.#..#..#..#.####.....######........
#....########.##..#.#..#...#....#...#..###.#.#.
.#.##...#....#.####.###.#...#..#####.#.#..#..##
##..#..##..#.###....#......##...##........#.#..
...##...#..#########....#.#..##....#######.##..
#.######.#.#..###.#####..#####.#.##.###..####.#
.#####.######.#......####....##.##.##.#..##.#.#
.#..##...#..##...#.#...#..####.#.###...#..#..#E
30 77 18
S.#.##....#.##.#..#.#.......#....#..#.......#.#..#...###.#....#..#.##.#.##.#.
#########..#...##.#..#.##..#.#...####...##.#.#.#.#.#....#.#...####.##.##....#
...####.##...#..##.###.#..##..#..#.#..####.####.#..#.#...#....###.##....#....
##...#.#..##..#..#..##.#..#.#..#.#...##..#.....##.##...##..#.####...###.#....
#.###.....####..#....#.#....#...####.##...##.###..####.#.......#.###.##.#..##
#.##...#.##...######.##.###.#.#..#..#...##..##.......#.#..#.##.###.##.#.#...#
.#####.####....##.....#.#..#.#..#..#..#.#####........#####.####...#.####..###
.###.###...#..#....##.####...#####.#...##.##.#...###.#..#.#.##..#.###..#..###
.#....#..#...##.###.#...##..#.##.###.##.#......#.##.#.#.###......#.#..#.....#
#.###.####.#.#.#..#####.###..#..####..#...##.#.#.....#####.#.##...##.....##.#
.##.....#.##.#.##.##...###....#.##....#.##...#.##.##.####.##.#.##....#..###..
#.#...#.#.##.###.##.###..#.###.#####..###..####..###.##..#.##.####..##..#####
##.##.##.#...##.....#...####..#.....##..##.#.###.##..###.##.#.#######.#...#.#
...#.##.#.#.#..###....#...#..#.#.....#.#.#..###.....#..#.##..##.##.####..####
#.#.#.#.....##..#######...##..#.##..#.##.#..#.#.#..#....#...##.#........#....
##..#.##.##.##.###.##.......####.#.#.##.#..##...........###.#...##.#..#.####.
##.##..#..#.##.##.#.###...###.#.##...##..#.#...##.###..#.#..#.#....##.#...#.#
##.##.#...###.#.....#.#.##....#.#..#.##......#..#...##.##...#....#...##.#...#
#...#####.##.#.#..##.####..###.##.#.#.#....#.####.#..##.#.##....#.##.#..##.##
.##.#.##.##..#..#...###.###...#.###.#.#.#...#..##.#...#.....#.##..#.#####...#
#..##.####.##..######..##......#...#..##......###.###.###..###...#..#..#.#..#
....####.##..#.#.....##.###.#.####.###.#...###..##....##..#.....#...#.#..#.#.
..#...#....#..###...#.##....#....#.#.....#...#####...#.#.#..##.###.#....#####
##.#...##..#.#..####..#.##...##.##..##.#...#.#.#..#.#.#.#..#....#.#####.#.#..
.#..######....###...#..#...#.##...#.###.#..##.#.#.#.#..#.##....#..###..#...##
#.##..#..#.#..#..#.####...#.###..#..##...#.##...#.##.###..###....#.##..####..
.##..#.##....#..#..##.#....##..##..#.#...#.#...######..#.#...#...#.##..##..##
....#...#..#.##.####..##.#.#.##.#....#..##......#....#..#.##....#######.....#
..#####.###..#.....#.#.##.##..##.#.##.####.....#####..##..###.....##.#..#....
#.####.#.#..###....##..##.#.#.##..#...#.#.#....##.###.#.#...##..##.#.#...#.#E
92 20 9
S#.....#.#..###...##
#.##.....##.#.##..#.
#.#####.#......#..#.
###..##....###.###..
#.####..##.#..#...#.
###.#.#.###.##..#.#.
.##.#.###........##.
.#.#..#.#..#....#.#.
....##.#.##.##.#.###
#..###....###.#.....
#...##.###......#..#
###.##.....#...#...#
##.#...##...#.#..#.#
...#######...#.#.#.#
.#.#.#########...###
##......#.#....##..#
#.##.##...#.###.#...
##......#..####..#..
#.#####.#..#.####.##
#########...#.##.#.#
#.#..##.####......#.
######...###....#.##
#.#.#.#####...#..#.#
...#...#..###....#..
.#..#....#####..##.#
#.....#.##.#...#...#
...#..#.#.##.#.....#
.......##..##.#..#..
....#...###.#.#.#.#.
..#..##....#..##..#.
#####.#.###.......##
#.#.#####..##.#....#
.#.#.##..#...####.##
#.#.###.#.....##.#.#
#....#.#..###.##..#.
#....#..#####..#####
#..###.#..#..#.##..#
..###.########..#...
##.#....###....#.#.#
..#.#...#...###.###.
#.#.#..##....#.#####
.#...###..####.#....
..........#.......##
.....#...#.#.#.##.##
###.###.##.#..#.#..#
###.##..####....#...
.#...#..##..#.##.###
..#..##.###.##..#.#.
...##.##.#.#.####.#.
.#.#.#..#..#.###...#
##.####....#.#.#....
..#.#...#.#..#......
######.#...#..##...#
#####...###.##.#....
#.#..#.#.#.##.######
...#.....####.#.....
#.#.#.....#.###...#.
....#.#.##.#####.#.#
##..###..##.#.######
..#####.#....##.#.#.
#.####...#....######
#.##....##..##.#.#.#
####..##.#.....#..##
#.##.#.#...#.###.#..
#...##.#####.#...#.#
.#.....##..#..#.##..
#.#.##.#..#...#..#..
........#..###.#....
###..#.....#.#.#...#
..####...#..##......
#..###.#.#..#..#.##.
###..##..#..##.#.###
#...#..##.##.##..#..
#.#.#.###.......##..
###.###..#########..
.###...##.....###.##
..#..##.##...#.##...
.#..#..#####..##...#
.##...#.....##.##.##
..##.....###.##..#..
..#.#...#.#.#.##...#
....##........#.#.#.
.######....#.###....
#..##.#...##..##..#.
.#..####.####...#.##
...##.#####.#.##..#.
.#.#.##..#.##...#..#
##.#.#.##.#..##.....
#####..###.####.#.#.
###.#.###..#.###..#.
##.##....##..##..#..
.#..#.......####.##E



'''